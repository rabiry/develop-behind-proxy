{
    "docs": [
        {
            "location": "/",
            "text": "develop-behind-proxy\n\u00b6\n\n\nSome configuration tricks for developers located behind a corporate proxy. Most of these have been tested under Windows behind a specific NTLM proxy (Zscaler), so it is far from being exhaustive! Linux testers, and other proxy users, welcome ;) \n\n\nThis documentation is made of three parts:\n\n\n\n\nIn \nHTTP/HTTPs Proxy basics\n we remind the concept of HTTP/HTTPs proxy\n\n\nIn \nKnow your proxy\n we go through all the information that you have to collect and explain how to retrieve the proxy's root SSL certificate if needed.\n\n\nIn \nConfigure your applications\n we explain for a list of popular applications, how to configure it to work with your proxy.\n\n\nIn \nSwitching tools\n we provide a list of tools to switch between different network environments\n\n\n\n\nAdditional readings\n\u00b6\n\n\nYou may find the following articles interesting:\n\n\n\n\nhttps://support.ssl.com/Knowledgebase/Article/View/19/0/der-vs-crt-vs-cer-vs-pem-certificates-and-how-to-convert-them\n\n\nhttp://devangst.com/death-by-proxy-tips-for-developing-behind-proxy/\n\n\nhttps://mdeinum.wordpress.com/2013/07/01/yeoman-behind-a-corporate-proxy/",
            "title": "Home"
        },
        {
            "location": "/#develop-behind-proxy",
            "text": "Some configuration tricks for developers located behind a corporate proxy. Most of these have been tested under Windows behind a specific NTLM proxy (Zscaler), so it is far from being exhaustive! Linux testers, and other proxy users, welcome ;)   This documentation is made of three parts:   In  HTTP/HTTPs Proxy basics  we remind the concept of HTTP/HTTPs proxy  In  Know your proxy  we go through all the information that you have to collect and explain how to retrieve the proxy's root SSL certificate if needed.  In  Configure your applications  we explain for a list of popular applications, how to configure it to work with your proxy.  In  Switching tools  we provide a list of tools to switch between different network environments",
            "title": "develop-behind-proxy"
        },
        {
            "location": "/#additional-readings",
            "text": "You may find the following articles interesting:   https://support.ssl.com/Knowledgebase/Article/View/19/0/der-vs-crt-vs-cer-vs-pem-certificates-and-how-to-convert-them  http://devangst.com/death-by-proxy-tips-for-developing-behind-proxy/  https://mdeinum.wordpress.com/2013/07/01/yeoman-behind-a-corporate-proxy/",
            "title": "Additional readings"
        },
        {
            "location": "/basics/",
            "text": "HTTP/HTTPs Proxy basics\n\u00b6\n\n\nAn HTTP/HTTPS proxy (such as \nZScaler\n) sits between your computer and the internet. Its role is to check all outbound connections, possibly log them and even forbid some of them (+ other features depending on the proxy).\n\n\n\n\nTherefore, all your applications that need to connect to the internet have to be informed that they need to \nCONNECT\n to that proxy first. For this, you will first have to collect information about your proxy, as explained \nhere\n.",
            "title": "HTTP/HTTPs Proxy basics"
        },
        {
            "location": "/basics/#httphttps-proxy-basics",
            "text": "An HTTP/HTTPS proxy (such as  ZScaler ) sits between your computer and the internet. Its role is to check all outbound connections, possibly log them and even forbid some of them (+ other features depending on the proxy).   Therefore, all your applications that need to connect to the internet have to be informed that they need to  CONNECT  to that proxy first. For this, you will first have to collect information about your proxy, as explained  here .",
            "title": "HTTP/HTTPs Proxy basics"
        },
        {
            "location": "/know_your_proxy/",
            "text": "Know your proxy\n\u00b6\n\n\nBefore configuring your computer applications to work with your proxy, you have to know which configuration settings to apply.\n\n\nBasics\n\u00b6\n\n\nThese can typically be obtained from your IT department:\n\n\n\n\nthe proxy's \nhost\n and \nport\n for the two protocols (HTTP and HTTPs). For example \nhttp://proxyhost:8080\n and \nhttps://proxyhost:4443\n\n\nthe \nlist of hosts that do not require a proxy\n, in other words the hosts for which the applications should still use a direct connection. These are typically computers located in the intranet, but also some external hosts that have been put in a 'whitelist' by your IT department. For example \nlocalhost,127.0.0.1,mylocalserver\n\n\n(optional) your credentials (\nusername\n and \npassword\n). Note that NTML proxies such as ZScaler do not require this - this is even dangerous in term of security to write your username and password in a file or an environment variable, so we don't recommend it\n\n\n\n\nAuto-configuration scripts\n\u00b6\n\n\nSome tools are able to get their configuration with \"auto-config\" from a \n.pac\n script. If your organization provides such a script, make sure that you retrieve it.\n\n\nAdvanced: proxies that modify the SSL certification chain\n\u00b6\n\n\nSome proxies such as \nZScaler\n modify the SSL certification chain by replacing the root Certification Authority (CA)'s certificate signature with their own CA certificate. \n\n\nIn these cases, you will have to tell all your software applications to \ntrust\n this new CA certificate. We will see below how to do that, but first let's check if you need it with your proxy.\n\n\nCheck if your proxy needs to be trusted\n\u00b6\n\n\nTo check if your proxy changes the certification chain, here is the procedure on \nFirefox\n (but you can probably find equivalent possibilities in other browsers):\n\n\n\n\nconnect to any https page such as \nhttps://google.com\n\n\nclick on the small 'locker' icon at the left of the URL bar\n\n\nextend the popup. It should state \"secure connection, verified by \nxxx\n\":\n\n\n\n\n\n\n\n\nif \nxxx\n has the name of your proxy (in this example, \nZscaler\n) instead of being a known certification authority (such as DigiCert, Thawte, Verisign, Symantec, etc.), that means that your proxy has modified the certification chain. Otherwise, that means that either your proxy does not modify it, or bad luck : you picked a site that is in the whitelist :) select another https url and try again, to be sure. \n\n\n\n\nDownload your proxy's root certificate\n\u00b6\n\n\nIf the test was positive, you will need to download the proxy's CA certificate in order to be able to trust it. For this:\n\n\n\n\nClick on \nMore Information > View Certificate > Details\n. \n\n\n\n\n\n\n\n\nSelect the ROOT certificate, at the top of the hierarchy - not the intermediate ones ! - and export it as a \n*.crt\n or \n*.cer\n file. If your browser asks you which certificate format is needed, select \nbase64\n. This format is a string representation of the certificate's bytes, so you may open the file in Notepad and copy/paste the certificate easily if you need to.\n\n\n\n\nYou now have a \nmy_proxys_root_ca_cert.cer\n file. \n\n\nNote: \n.cer\n, \n.crt\n and \n.pem\n are both valid extensions for such a \nbase64\n encoded file, see \nthis article\n. They can be opened with a text editor if needed.\n\n\nCreate a certificate bundle including your proxy's root certificate\n\u00b6\n\n\nAs we'll see in the next session, some tools are able to support addition of trusted certificates one by one (= separate certificate files), while some others only support changing the whole trusted certificate bundle entirely (= a single file containing all trusted certificates). \n\n\nYou will therefore need to build such a certificate bundle file. This is done by appending your proxy's root certificate (\nmy_proxys_root_ca_cert.cer\n, downloaded in previous section) to an \nexisting\n certificate bundle.\n\n\n\n\nGet an existing certificate bundle. For example you may wish to get it from \ncertifi\n by downloading it from this adress: \ncerts.pem\n. \nIMPORTANT\n please check that this link is still the link recommended by certifi.io! Downloading a compromised list of certificate authorities can enfringe your computer's (and IT dept) security rules, proceed with care and/or double-check with your IT department.\n\n\nsave the file somewhere on your computer, and rename it for example \n160117-certifi-ca-bundle-with-proxy.pem\n. Make sure that only administrator account has write permissions on this file. This will prevent programs to add other trusted certificates later on.\n\n\nopen it in your favorite text editor to edit it: at the end of the file, append your Proxy's certificate (the contents of the \nmy_proxys_root_ca_cert.cer\n file downloaded in previous step). The bottom of the resulting certificate bundle file should therefore now look like this:\n\n\n\n\n(... end of the certs.pem file provided by certifi)\noyi3B43njTOQ5yOf+1CceWxG1bQVs5ZufpsMljq4Ui0/1lvh+wjChP4kqKOJ2qxq\n4RgqsahDYVvTH9w7jXbyLeiNdd8XM2w9U/t7y0Ff/9yi0GE44Za4rF2LN9d11TPA\nmRGunUHBcnWEvgJBQl9nJEiU0Zsnvgc/ubhPgXRR4Xq37Z0j4r7g1SgEEzwxA57d\nemyPxgcYxn/eR44/KJ4EBs+lVDR3veyJm+kXQ99b21/+jh5Xos1AnX5iItreGCc=\n-----END CERTIFICATE-----\n\nMy Proxy's Root CA\n==================\n-----BEGIN CERTIFICATE-----\nMIAE07CCA7ugAwIBAgIJANu+mC2Jt3uTMA0GCSqGSIb3DQEBCwUAMIGhMQswCQYD\nVQQGEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTERMA8GA1UEBxMIU2FuIEpvc2Ux\n(... this is fairly long)\nxFNjavxrHmsH8jPHVvgc1VD0Opja0l/BRVauTrUaoW6tE+wFG5rEcPGS80jjHK4S\npB5iDj2mUZH1T8lzYtuZy0ZPirxmtsk3135+CKNa2OCAhhFjE0xd\n-----END CERTIFICATE-----\n\n\n\n\n\nYou are now all set :\n\n\n\n\nYou have a \nmy_proxys_root_ca_cert.crt\n file containing your proxy's certificate only. This will be referred to as \n<path_to_root_ca_cert.crt>\n in next section\n\n\nYou have a \n160117-certifi-ca-bundle-with-proxy.pem\n file containing a bundle of trusted certificates, as well as your proxy's. This will be referred to as \n<path_to_ca_bundle.pem>\n in next section\n\n\n\n\n(Remember that \n.crt\n, \n.cer\n and \n.pem\n are both valid extensions for these files)",
            "title": "Know your proxy"
        },
        {
            "location": "/know_your_proxy/#know-your-proxy",
            "text": "Before configuring your computer applications to work with your proxy, you have to know which configuration settings to apply.",
            "title": "Know your proxy"
        },
        {
            "location": "/know_your_proxy/#basics",
            "text": "These can typically be obtained from your IT department:   the proxy's  host  and  port  for the two protocols (HTTP and HTTPs). For example  http://proxyhost:8080  and  https://proxyhost:4443  the  list of hosts that do not require a proxy , in other words the hosts for which the applications should still use a direct connection. These are typically computers located in the intranet, but also some external hosts that have been put in a 'whitelist' by your IT department. For example  localhost,127.0.0.1,mylocalserver  (optional) your credentials ( username  and  password ). Note that NTML proxies such as ZScaler do not require this - this is even dangerous in term of security to write your username and password in a file or an environment variable, so we don't recommend it",
            "title": "Basics"
        },
        {
            "location": "/know_your_proxy/#auto-configuration-scripts",
            "text": "Some tools are able to get their configuration with \"auto-config\" from a  .pac  script. If your organization provides such a script, make sure that you retrieve it.",
            "title": "Auto-configuration scripts"
        },
        {
            "location": "/know_your_proxy/#advanced-proxies-that-modify-the-ssl-certification-chain",
            "text": "Some proxies such as  ZScaler  modify the SSL certification chain by replacing the root Certification Authority (CA)'s certificate signature with their own CA certificate.   In these cases, you will have to tell all your software applications to  trust  this new CA certificate. We will see below how to do that, but first let's check if you need it with your proxy.",
            "title": "Advanced: proxies that modify the SSL certification chain"
        },
        {
            "location": "/know_your_proxy/#check-if-your-proxy-needs-to-be-trusted",
            "text": "To check if your proxy changes the certification chain, here is the procedure on  Firefox  (but you can probably find equivalent possibilities in other browsers):   connect to any https page such as  https://google.com  click on the small 'locker' icon at the left of the URL bar  extend the popup. It should state \"secure connection, verified by  xxx \":     if  xxx  has the name of your proxy (in this example,  Zscaler ) instead of being a known certification authority (such as DigiCert, Thawte, Verisign, Symantec, etc.), that means that your proxy has modified the certification chain. Otherwise, that means that either your proxy does not modify it, or bad luck : you picked a site that is in the whitelist :) select another https url and try again, to be sure.",
            "title": "Check if your proxy needs to be trusted"
        },
        {
            "location": "/know_your_proxy/#download-your-proxys-root-certificate",
            "text": "If the test was positive, you will need to download the proxy's CA certificate in order to be able to trust it. For this:   Click on  More Information > View Certificate > Details .      Select the ROOT certificate, at the top of the hierarchy - not the intermediate ones ! - and export it as a  *.crt  or  *.cer  file. If your browser asks you which certificate format is needed, select  base64 . This format is a string representation of the certificate's bytes, so you may open the file in Notepad and copy/paste the certificate easily if you need to.   You now have a  my_proxys_root_ca_cert.cer  file.   Note:  .cer ,  .crt  and  .pem  are both valid extensions for such a  base64  encoded file, see  this article . They can be opened with a text editor if needed.",
            "title": "Download your proxy's root certificate"
        },
        {
            "location": "/know_your_proxy/#create-a-certificate-bundle-including-your-proxys-root-certificate",
            "text": "As we'll see in the next session, some tools are able to support addition of trusted certificates one by one (= separate certificate files), while some others only support changing the whole trusted certificate bundle entirely (= a single file containing all trusted certificates).   You will therefore need to build such a certificate bundle file. This is done by appending your proxy's root certificate ( my_proxys_root_ca_cert.cer , downloaded in previous section) to an  existing  certificate bundle.   Get an existing certificate bundle. For example you may wish to get it from  certifi  by downloading it from this adress:  certs.pem .  IMPORTANT  please check that this link is still the link recommended by certifi.io! Downloading a compromised list of certificate authorities can enfringe your computer's (and IT dept) security rules, proceed with care and/or double-check with your IT department.  save the file somewhere on your computer, and rename it for example  160117-certifi-ca-bundle-with-proxy.pem . Make sure that only administrator account has write permissions on this file. This will prevent programs to add other trusted certificates later on.  open it in your favorite text editor to edit it: at the end of the file, append your Proxy's certificate (the contents of the  my_proxys_root_ca_cert.cer  file downloaded in previous step). The bottom of the resulting certificate bundle file should therefore now look like this:   (... end of the certs.pem file provided by certifi)\noyi3B43njTOQ5yOf+1CceWxG1bQVs5ZufpsMljq4Ui0/1lvh+wjChP4kqKOJ2qxq\n4RgqsahDYVvTH9w7jXbyLeiNdd8XM2w9U/t7y0Ff/9yi0GE44Za4rF2LN9d11TPA\nmRGunUHBcnWEvgJBQl9nJEiU0Zsnvgc/ubhPgXRR4Xq37Z0j4r7g1SgEEzwxA57d\nemyPxgcYxn/eR44/KJ4EBs+lVDR3veyJm+kXQ99b21/+jh5Xos1AnX5iItreGCc=\n-----END CERTIFICATE-----\n\nMy Proxy's Root CA\n==================\n-----BEGIN CERTIFICATE-----\nMIAE07CCA7ugAwIBAgIJANu+mC2Jt3uTMA0GCSqGSIb3DQEBCwUAMIGhMQswCQYD\nVQQGEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTERMA8GA1UEBxMIU2FuIEpvc2Ux\n(... this is fairly long)\nxFNjavxrHmsH8jPHVvgc1VD0Opja0l/BRVauTrUaoW6tE+wFG5rEcPGS80jjHK4S\npB5iDj2mUZH1T8lzYtuZy0ZPirxmtsk3135+CKNa2OCAhhFjE0xd\n-----END CERTIFICATE-----  You are now all set :   You have a  my_proxys_root_ca_cert.crt  file containing your proxy's certificate only. This will be referred to as  <path_to_root_ca_cert.crt>  in next section  You have a  160117-certifi-ca-bundle-with-proxy.pem  file containing a bundle of trusted certificates, as well as your proxy's. This will be referred to as  <path_to_ca_bundle.pem>  in next section   (Remember that  .crt ,  .cer  and  .pem  are both valid extensions for these files)",
            "title": "Create a certificate bundle including your proxy's root certificate"
        },
        {
            "location": "/configure_apps/",
            "text": "Configuring each application to use the proxy\n\u00b6\n\n\nIn the previous sections you managed to collect information about your proxy. Here is what you should have collected so far:\n\n\n\n\nthe proxy's \nhost\n and \nport\n for HTTP, referred to as \n<http_host>\n and \n<http_port>\n below (e.g. \nproxyhost\n, \n8080\n)\n\n\nthe proxy's \nhost\n and \nport\n for HTTPS, referred to as \n<https_host>\n and \n<https_port>\n below (e.g. \nproxyhost\n, \n4443\n)\n\n\nthe \nlist of hosts that do not require a proxy\n, referred to as \n<no_proxy_hosts>\n below (e.g. \nlocalhost,127.0.0.1,mylocalserver\n)\n\n\n(optional) your credentials (\n<user>\n and \n<pwd>\n). We don't recommend that you use these.\n\n\n\n\nIf your IT department provides an auto-configuration script, a \n.pac\n file.\n\n\nAnd, if your proxy changes the certification chain: \n\n\n\n\na \nmy_proxys_root_ca_cert.crt\n file containing your proxy's certificate only. This will be referred to as \n<path_to_root_ca_cert.crt>\n below\n\n\na \n160117-certifi-ca-bundle-with-proxy.pem\n file containing a bundle of trusted certificates, as well as your proxy's. This will be referred to as \n<path_to_ca_bundle.pem>\n below\n\n\n\n\nThis chapter helps you to configure various applications to use your proxy. Remember that the proxy prevents any application to access the internet, so any time an application does not work and you think it requires internet access, this might be the cause. If you don't find your tool in the list, please feel free to contribute with a pull request on the \ngithub project\n.\n\n\nCommon settings for several Unix/Linux inspired tools\n\u00b6\n\n\ncurl\n, \ngit\n, \nconda\n, \npip\n, \nNodeJS\n  and many other tools rely on the following standard UNIX/Linux environment variables that you should define in your OS (also on windows): \n\n\nhttp_proxy      http://\n[\n<user>:<pwd>@\n]\n<http_host>:<http_port>  \nhttps_proxy     http://\n[\n<user>:<pwd>@\n]\n<https_host>:<https_port>\nno_proxy        <no_proxy_hosts>\ncurl_ca_bundle  <path_to_ca_bundle.pem>\n\n\n\n\n\nImportant note: storing the list of trusted certificates in a raw file such as here \n<path_to_ca_bundle.pem>\n is still a bit unsecure, unless you make sure that the file can not be corrupted by a third party (at least you may wish to ensure that only administrators can modify this file). But this is \nfar\n more secure than disabling SSL certificate verification in your application :)\n\n\nTo set these environment variables in Linux you can either use the user-specific ~/.bashrc file or configure them in the global environment. However, this depends on the distribution you are running:\n\n Ubuntu: Create or append to \n/etc/environment\n\n\n Gentoo Linux: Create a new file in \n/etc/env.d\n such as \n/etc/env.d/99proxy\n\n\nOn Windows, one configures the environment variables in the \nAdvanced System Settings\n:\n\n Press Windows-Key + R, enter \nsysdm.cpl ,3\n (mind the space before the comma) and press Enter\n\n Click the \nEnvironment variables\n button\n* In either of the fields (\nUser variables\n or \nSystem variables\n), add the four variables\n\n\nGit\n\u00b6\n\n\nGit accepts the environment variables described earlier. There is no simple way to add a unique certificate to git's trust store (see \nthis discussion\n), but it seems to correctly manage the \ncurl_ca_bundle\n one (see previous chapter) so if you've done the previous steps you should be all set. \n\n\nEdit : apparently this is not true, you have to add a specifig configuration option in one of your git configuration files:\n\n\n[http]\n  sslCAInfo = <path_to_ca_bundle.pem>\n\n\n\n\n\nThanks, source!\n\n\nNot directly related to the Proxy but if your organization's firewall should block outgoing connections to TCP port 9418 (used by the git:// protocol) and some software automatically clones from those URLs without any method to change the URLs, you can tell git to use the HTTPS protocol instead of the faster GIT protocol by adding these lines to you git config file:\n\n\n[url \"https://\"]\n    insteadOf = git://\n\n\n\n\n\nThe same goes equivalently for the SSH protocol on TCP port 22.\n\n\nPython\n\u00b6\n\n\nAny python code\n\u00b6\n\n\nIf you rely on the python \nRequests\n package for HTTP and HTTPs calls, all environment variables described earlier are supported. Concerning certificate trust, the package first looks at \nrequests_ca_bundle\n environment variable for trusted certificates, and defaults to \ncurl_ca_bundle\n if it is not defined.\n\n\nConda (Anaconda Python distribution)\n\u00b6\n\n\nConda accepts the environment variables described earlier. There is no simple way to add a unique certificate to its trust store, but it seems to correctly manage the \ncurl_ca_bundle\n one (see previous chapter) so if you've done the previous steps you should be all set. \n\n\nPip\n\u00b6\n\n\nDepending on your version of pip you may either have \n\n\n\n\nnothing to do (same than \nRequests\n and \nConda\n), \n\n\nor the following manual operation to perform to replace the trusted bundle of certificates: create a file under \n%APPDATA%/pip/pip.ini\n containing\n\n\n\n\n[global]\ncert = <path_to_ca_bundle.pem>\n\n\n\n\n\nPyCharm\n\u00b6\n\n\nBy default PyCharm relies on the python distribution (e.g. conda) to install the packages. Therefore if you configured conda, PyCharm will be able to download packages from the web. \n\n\nIn addition, in order for PyCharm to be able to download its own updates, it needs to be configured under \nFile > Settings > Appearance & Behaviour > System Settings > HTTP Proxy\n:\n\n\n\n\nIf possible, enable \"Auto-detect Proxy settings\" and possibly enter your automatic proxy configuration URL here.\n\n\nOtherwise, enable \"Manual Proxy Configuration\" .\n\n\n\n\n(Tested with Community Edition 2016.2.3:)\n\n\nYou may then add the proxy's server certificate to the list of trusted servers, using \nTools > Server Certificates\n\n\nMATLAB\n\u00b6\n\n\nIn MATLAB Settings (\nHome > Preferences > Web\n) you may configure the proxy host and port.\n\n\nAlternatively you may set it using a script:\n\n\ncom\n.\nmathworks\n.\nmlwidgets\n.\nhtml\n.\nHTMLPrefs\n.\nsetUseProxy\n(\ntrue\n);\n\n\ncom\n.\nmathworks\n.\nmlwidgets\n.\nhtml\n.\nHTMLPrefs\n.\nsetProxyHost\n(\n'<proxy_host>'\n);\n\n\ncom\n.\nmathworks\n.\nmlwidgets\n.\nhtml\n.\nHTMLPrefs\n.\nsetProxyPort\n(\n'<proxy_port>'\n);\n\n\ncom\n.\nmathworks\n.\nmlwidgets\n.\nhtml\n.\nHTMLPrefs\n.\nsetProxySettings\n();\n\n\n\n\n\n\nThere is a nice forum post here to help you trust an SSL certificate in Matlab's JRE : https://fr.mathworks.com/matlabcentral/answers/92506-how-can-i-configure-matlab-to-allow-access-to-self-signed-https-servers?requestedDomain=www.mathworks.com\n\n\nR\n\u00b6\n\n\nR provides several packages to perform http call (httr, Rcurl, curl). By default, the \nhttp_proxy\n, \nhttps_proxy\n environment variables seem to be taken into account quite well.\n\n\nUnfortunately, the R libraries don't seem to take into account the \ncurl_ca_bundle\n environment variable. You may however trust a proxy by appending it's root certificate at the end of the following file : \n<R_HOME>\\etc\\curl-ca-bundle.crt\n. \n\n\n.Net-based applications\n\u00b6\n\n\nMost .Net-based applications rely on Internet Explorer proxy settings and Windows trusted certificates store. Therefore you simply have two steps to perform \n\n in IE Settings, declare the proxy : \nInternet Options > Connections > Network Settings\n\n\n on your windows desktop, trust the proxy's root certificate by right-clicking on the certificate, and selecting \ninstall certificate\n\n\nYou are then all set for most applications relying on the .Net framework..\n\n\nJava-based applications\n\u00b6\n\n\nEach Java Virtual Machine (JVM) relies on a file named \ncacerts\n where the bundle of trusted certificated is held. This file is encrypted (as opposed to the one that we created for \ncurl_ca_bundle\n) and its default password is \nchangeit\n. You may first wish to change the password:\n\n\n> keytool -storepasswd -keystore \n\"%JAVA_HOME%/jre/lib/security/cacerts\"\n\n\n\n\n\n\nAnd then add the trusted certificate:\n\n\n> keytool -keystore \n\"%JAVA_HOME%/jre/lib/security/cacerts\"\n -importcert -alias <proxy_alias> -file <proxy_root_certificate.cer>\n\n\n\n\n\nNote: \nkeytool\n ships with the JVM so if your JVM is on the system PATH it should be found.\n\n\nSeveral Java-based applications ship with their own dedicated JVM: MATLAB, Rapidminer, etc. Therefore they don't benefit from this modification, you'll have to redo it for each of them individually (or to copy/paste the above \ncacerts\n file onto the application's to replace it).\n\n\nNote that for MATLAB a specific more 'user-friendly' tool was provided by Mathworks, see corresponding chapter above.\n\n\nIf you have any Java software or daemons/services running (for example the Gradle deamon used for Android development and which is automatically started) those will need to be killed and restarted before they start accepting the proxy's certificate.\n\n\nWeb Browsers\n\u00b6\n\n\nAlthough browsers settings allow to modify the proxy more or less easily, there are useful plugins to switch even faster - typically between home and office.\n\n\nFirefox\n\u00b6\n\n\n\n\n\n\nthe excellent \nProxy Switcher\n add-on will save you time! It supports automatic configuration scripts (\n.pac\n) as well as manual configuration too.\n\n\n\n\n\n\nin order to trust your proxy's root certificate, go to \nAdvanced Settings > Certificates > View Certificates > Authorities > Import\n and import your proxy's root certificate here. Check the \"Trust for websites\" option, at least, and confirm.\n\n\n\n\n\n\nChrome\n\u00b6\n\n\nChrome relies on the OS to get its proxy configuration. On windows this is similar to Internet Explorer, see below.\n\n\nInternet Explorer\n\u00b6\n\n\nInternet Explorer relies on the Windows OS to get its proxy configuration. You may either choose a manual configuration or an automatic configuration script (\n.pac\n) in *Internet Options > Connections > Network Settings *\n\n\nIn order to trust your proxy's root certificate, right click on your proxy's certificate file (not the bundle file) in the windows file explorer and select \nInstall certificate\n.\n\n\nOpenSSL-based applications (such as wget)\n\u00b6\n\n\nOpenSSL uses a directory-based certificate store, usually in \n/etc/ssl/certs\n. To make OpenSSL-based applications accept your proxy's certificate, you need to copy the Base64-encoded crt file to that folder and create a symlink with a specific name to that file. That process is described at (http://gagravarr.org/writing/openssl-certs/others.shtml#ca-openssl)\n\n\nAPT (Debian Linux and Ubuntu Linux packet manager)\n\u00b6\n\n\napt\n unfortunately  does not honor the environment variables mentioned in section a) and needs  the proxy configured in a dedicated configuration file. As root, create a new file named \n/etc/apt/apt.conf.d/99proxy\n and the following content:\n\n\nAcquire::http::proxy \"http://proxy.company.com:80/\";\nAcquire::https::proxy \"https://proxy.company.com:80/\";\nAcquire::ftp::proxy \"ftp://proxy.company.com:80/\";\n\n\n\n\n\nNodeJS / npm\n\u00b6\n\n\nnpm honors the environment variables as described in section a). These should definitely be set even if you configure npm to use a proxy via npm's config file because any post-install hooks will NOT honor npm's config. If the environment variables are set, all post-install hooks should work properly. Certificate errors can be avoided by running \nnpm config set strict-ssl false\n.\n\n\nApache cordova projects for Android / Gradle based projects\n\u00b6\n\n\nGradle-based Android projects (and as such those created by Apache cordova) need to have the proxy server configured via a specific file called \ngradle.properties\n in the project's root folder. It should have the following content:\n\n\nsystemProp.http.proxyHost=proxy.company.com\nsystemProp.http.proxyPort=80\nsystemProp.https.proxyHost=proxy.company.com\nsystemProp.https.proxyPort=80\n\n\n\n\n\nAndroid Studio\n\u00b6\n\n\nThe proxy certificate needs to imported via the settings dialog: \nSettings \u2192 Appereance & Behavior \u2192 System Settings \u2192 HTTP Proxy and Settings \u2192 Tools \u2192 Server Certificates\n\n\nAndroid SDK Manager (standalone tool)\n\u00b6\n\n\nWhile the Android SDK downloads can be managed via the Android Studio, there is a standalone-tool for that task as well. If you still get certificate errors here, option the \nOptions\n dialog and check the checkbox \nForce https://... sources to be fetched using http://...\n\n\nWinHTTP service (used for Windows Update downloads)\n\u00b6\n\n\nSometimes the WinHTTP service doesn't pick up the proxy configured via the \nInternet Options\n dialog. If your windows installation fails to download updates and takes very long before producing an error, try configuring the WinHTTP service manually as described at http://www.winplat.net/post/2012/04/06/Configure-Proxy-settings-for-WinHttp-on-Windows-2008-R2-and-Windows-7.aspx",
            "title": "Configure your applications"
        },
        {
            "location": "/configure_apps/#configuring-each-application-to-use-the-proxy",
            "text": "In the previous sections you managed to collect information about your proxy. Here is what you should have collected so far:   the proxy's  host  and  port  for HTTP, referred to as  <http_host>  and  <http_port>  below (e.g.  proxyhost ,  8080 )  the proxy's  host  and  port  for HTTPS, referred to as  <https_host>  and  <https_port>  below (e.g.  proxyhost ,  4443 )  the  list of hosts that do not require a proxy , referred to as  <no_proxy_hosts>  below (e.g.  localhost,127.0.0.1,mylocalserver )  (optional) your credentials ( <user>  and  <pwd> ). We don't recommend that you use these.   If your IT department provides an auto-configuration script, a  .pac  file.  And, if your proxy changes the certification chain:    a  my_proxys_root_ca_cert.crt  file containing your proxy's certificate only. This will be referred to as  <path_to_root_ca_cert.crt>  below  a  160117-certifi-ca-bundle-with-proxy.pem  file containing a bundle of trusted certificates, as well as your proxy's. This will be referred to as  <path_to_ca_bundle.pem>  below   This chapter helps you to configure various applications to use your proxy. Remember that the proxy prevents any application to access the internet, so any time an application does not work and you think it requires internet access, this might be the cause. If you don't find your tool in the list, please feel free to contribute with a pull request on the  github project .",
            "title": "Configuring each application to use the proxy"
        },
        {
            "location": "/configure_apps/#common-settings-for-several-unixlinux-inspired-tools",
            "text": "curl ,  git ,  conda ,  pip ,  NodeJS   and many other tools rely on the following standard UNIX/Linux environment variables that you should define in your OS (also on windows):   http_proxy      http:// [ <user>:<pwd>@ ] <http_host>:<http_port>  \nhttps_proxy     http:// [ <user>:<pwd>@ ] <https_host>:<https_port>\nno_proxy        <no_proxy_hosts>\ncurl_ca_bundle  <path_to_ca_bundle.pem>  Important note: storing the list of trusted certificates in a raw file such as here  <path_to_ca_bundle.pem>  is still a bit unsecure, unless you make sure that the file can not be corrupted by a third party (at least you may wish to ensure that only administrators can modify this file). But this is  far  more secure than disabling SSL certificate verification in your application :)  To set these environment variables in Linux you can either use the user-specific ~/.bashrc file or configure them in the global environment. However, this depends on the distribution you are running:  Ubuntu: Create or append to  /etc/environment   Gentoo Linux: Create a new file in  /etc/env.d  such as  /etc/env.d/99proxy  On Windows, one configures the environment variables in the  Advanced System Settings :  Press Windows-Key + R, enter  sysdm.cpl ,3  (mind the space before the comma) and press Enter  Click the  Environment variables  button\n* In either of the fields ( User variables  or  System variables ), add the four variables",
            "title": "Common settings for several Unix/Linux inspired tools"
        },
        {
            "location": "/configure_apps/#git",
            "text": "Git accepts the environment variables described earlier. There is no simple way to add a unique certificate to git's trust store (see  this discussion ), but it seems to correctly manage the  curl_ca_bundle  one (see previous chapter) so if you've done the previous steps you should be all set.   Edit : apparently this is not true, you have to add a specifig configuration option in one of your git configuration files:  [http]\n  sslCAInfo = <path_to_ca_bundle.pem>  Thanks, source!  Not directly related to the Proxy but if your organization's firewall should block outgoing connections to TCP port 9418 (used by the git:// protocol) and some software automatically clones from those URLs without any method to change the URLs, you can tell git to use the HTTPS protocol instead of the faster GIT protocol by adding these lines to you git config file:  [url \"https://\"]\n    insteadOf = git://  The same goes equivalently for the SSH protocol on TCP port 22.",
            "title": "Git"
        },
        {
            "location": "/configure_apps/#python",
            "text": "",
            "title": "Python"
        },
        {
            "location": "/configure_apps/#any-python-code",
            "text": "If you rely on the python  Requests  package for HTTP and HTTPs calls, all environment variables described earlier are supported. Concerning certificate trust, the package first looks at  requests_ca_bundle  environment variable for trusted certificates, and defaults to  curl_ca_bundle  if it is not defined.",
            "title": "Any python code"
        },
        {
            "location": "/configure_apps/#conda-anaconda-python-distribution",
            "text": "Conda accepts the environment variables described earlier. There is no simple way to add a unique certificate to its trust store, but it seems to correctly manage the  curl_ca_bundle  one (see previous chapter) so if you've done the previous steps you should be all set.",
            "title": "Conda (Anaconda Python distribution)"
        },
        {
            "location": "/configure_apps/#pip",
            "text": "Depending on your version of pip you may either have    nothing to do (same than  Requests  and  Conda ),   or the following manual operation to perform to replace the trusted bundle of certificates: create a file under  %APPDATA%/pip/pip.ini  containing   [global]\ncert = <path_to_ca_bundle.pem>",
            "title": "Pip"
        },
        {
            "location": "/configure_apps/#pycharm",
            "text": "By default PyCharm relies on the python distribution (e.g. conda) to install the packages. Therefore if you configured conda, PyCharm will be able to download packages from the web.   In addition, in order for PyCharm to be able to download its own updates, it needs to be configured under  File > Settings > Appearance & Behaviour > System Settings > HTTP Proxy :   If possible, enable \"Auto-detect Proxy settings\" and possibly enter your automatic proxy configuration URL here.  Otherwise, enable \"Manual Proxy Configuration\" .   (Tested with Community Edition 2016.2.3:)  You may then add the proxy's server certificate to the list of trusted servers, using  Tools > Server Certificates",
            "title": "PyCharm"
        },
        {
            "location": "/configure_apps/#matlab",
            "text": "In MATLAB Settings ( Home > Preferences > Web ) you may configure the proxy host and port.  Alternatively you may set it using a script:  com . mathworks . mlwidgets . html . HTMLPrefs . setUseProxy ( true );  com . mathworks . mlwidgets . html . HTMLPrefs . setProxyHost ( '<proxy_host>' );  com . mathworks . mlwidgets . html . HTMLPrefs . setProxyPort ( '<proxy_port>' );  com . mathworks . mlwidgets . html . HTMLPrefs . setProxySettings ();   There is a nice forum post here to help you trust an SSL certificate in Matlab's JRE : https://fr.mathworks.com/matlabcentral/answers/92506-how-can-i-configure-matlab-to-allow-access-to-self-signed-https-servers?requestedDomain=www.mathworks.com",
            "title": "MATLAB"
        },
        {
            "location": "/configure_apps/#r",
            "text": "R provides several packages to perform http call (httr, Rcurl, curl). By default, the  http_proxy ,  https_proxy  environment variables seem to be taken into account quite well.  Unfortunately, the R libraries don't seem to take into account the  curl_ca_bundle  environment variable. You may however trust a proxy by appending it's root certificate at the end of the following file :  <R_HOME>\\etc\\curl-ca-bundle.crt .",
            "title": "R"
        },
        {
            "location": "/configure_apps/#net-based-applications",
            "text": "Most .Net-based applications rely on Internet Explorer proxy settings and Windows trusted certificates store. Therefore you simply have two steps to perform   in IE Settings, declare the proxy :  Internet Options > Connections > Network Settings   on your windows desktop, trust the proxy's root certificate by right-clicking on the certificate, and selecting  install certificate  You are then all set for most applications relying on the .Net framework..",
            "title": ".Net-based applications"
        },
        {
            "location": "/configure_apps/#java-based-applications",
            "text": "Each Java Virtual Machine (JVM) relies on a file named  cacerts  where the bundle of trusted certificated is held. This file is encrypted (as opposed to the one that we created for  curl_ca_bundle ) and its default password is  changeit . You may first wish to change the password:  > keytool -storepasswd -keystore  \"%JAVA_HOME%/jre/lib/security/cacerts\"   And then add the trusted certificate:  > keytool -keystore  \"%JAVA_HOME%/jre/lib/security/cacerts\"  -importcert -alias <proxy_alias> -file <proxy_root_certificate.cer>  Note:  keytool  ships with the JVM so if your JVM is on the system PATH it should be found.  Several Java-based applications ship with their own dedicated JVM: MATLAB, Rapidminer, etc. Therefore they don't benefit from this modification, you'll have to redo it for each of them individually (or to copy/paste the above  cacerts  file onto the application's to replace it).  Note that for MATLAB a specific more 'user-friendly' tool was provided by Mathworks, see corresponding chapter above.  If you have any Java software or daemons/services running (for example the Gradle deamon used for Android development and which is automatically started) those will need to be killed and restarted before they start accepting the proxy's certificate.",
            "title": "Java-based applications"
        },
        {
            "location": "/configure_apps/#web-browsers",
            "text": "Although browsers settings allow to modify the proxy more or less easily, there are useful plugins to switch even faster - typically between home and office.",
            "title": "Web Browsers"
        },
        {
            "location": "/configure_apps/#firefox",
            "text": "the excellent  Proxy Switcher  add-on will save you time! It supports automatic configuration scripts ( .pac ) as well as manual configuration too.    in order to trust your proxy's root certificate, go to  Advanced Settings > Certificates > View Certificates > Authorities > Import  and import your proxy's root certificate here. Check the \"Trust for websites\" option, at least, and confirm.",
            "title": "Firefox"
        },
        {
            "location": "/configure_apps/#chrome",
            "text": "Chrome relies on the OS to get its proxy configuration. On windows this is similar to Internet Explorer, see below.",
            "title": "Chrome"
        },
        {
            "location": "/configure_apps/#internet-explorer",
            "text": "Internet Explorer relies on the Windows OS to get its proxy configuration. You may either choose a manual configuration or an automatic configuration script ( .pac ) in *Internet Options > Connections > Network Settings *  In order to trust your proxy's root certificate, right click on your proxy's certificate file (not the bundle file) in the windows file explorer and select  Install certificate .",
            "title": "Internet Explorer"
        },
        {
            "location": "/configure_apps/#openssl-based-applications-such-as-wget",
            "text": "OpenSSL uses a directory-based certificate store, usually in  /etc/ssl/certs . To make OpenSSL-based applications accept your proxy's certificate, you need to copy the Base64-encoded crt file to that folder and create a symlink with a specific name to that file. That process is described at (http://gagravarr.org/writing/openssl-certs/others.shtml#ca-openssl)",
            "title": "OpenSSL-based applications (such as wget)"
        },
        {
            "location": "/configure_apps/#apt-debian-linux-and-ubuntu-linux-packet-manager",
            "text": "apt  unfortunately  does not honor the environment variables mentioned in section a) and needs  the proxy configured in a dedicated configuration file. As root, create a new file named  /etc/apt/apt.conf.d/99proxy  and the following content:  Acquire::http::proxy \"http://proxy.company.com:80/\";\nAcquire::https::proxy \"https://proxy.company.com:80/\";\nAcquire::ftp::proxy \"ftp://proxy.company.com:80/\";",
            "title": "APT (Debian Linux and Ubuntu Linux packet manager)"
        },
        {
            "location": "/configure_apps/#nodejs-npm",
            "text": "npm honors the environment variables as described in section a). These should definitely be set even if you configure npm to use a proxy via npm's config file because any post-install hooks will NOT honor npm's config. If the environment variables are set, all post-install hooks should work properly. Certificate errors can be avoided by running  npm config set strict-ssl false .",
            "title": "NodeJS / npm"
        },
        {
            "location": "/configure_apps/#apache-cordova-projects-for-android-gradle-based-projects",
            "text": "Gradle-based Android projects (and as such those created by Apache cordova) need to have the proxy server configured via a specific file called  gradle.properties  in the project's root folder. It should have the following content:  systemProp.http.proxyHost=proxy.company.com\nsystemProp.http.proxyPort=80\nsystemProp.https.proxyHost=proxy.company.com\nsystemProp.https.proxyPort=80",
            "title": "Apache cordova projects for Android / Gradle based projects"
        },
        {
            "location": "/configure_apps/#android-studio",
            "text": "The proxy certificate needs to imported via the settings dialog:  Settings \u2192 Appereance & Behavior \u2192 System Settings \u2192 HTTP Proxy and Settings \u2192 Tools \u2192 Server Certificates",
            "title": "Android Studio"
        },
        {
            "location": "/configure_apps/#android-sdk-manager-standalone-tool",
            "text": "While the Android SDK downloads can be managed via the Android Studio, there is a standalone-tool for that task as well. If you still get certificate errors here, option the  Options  dialog and check the checkbox  Force https://... sources to be fetched using http://...",
            "title": "Android SDK Manager (standalone tool)"
        },
        {
            "location": "/configure_apps/#winhttp-service-used-for-windows-update-downloads",
            "text": "Sometimes the WinHTTP service doesn't pick up the proxy configured via the  Internet Options  dialog. If your windows installation fails to download updates and takes very long before producing an error, try configuring the WinHTTP service manually as described at http://www.winplat.net/post/2012/04/06/Configure-Proxy-settings-for-WinHttp-on-Windows-2008-R2-and-Windows-7.aspx",
            "title": "WinHTTP service (used for Windows Update downloads)"
        },
        {
            "location": "/switching/",
            "text": "Switching tools\n\u00b6\n\n\nIf you find yourself switching frequently between proxy / non-proxy configurations, you might wish to use these tools.\n\n\nFirefox ProxySwitcher\n\u00b6\n\n\nThe excellent \nProxy Switcher\n add-on will save you time! It supports automatic configuration scripts (\n.pac\n) as well as manual configuration too.\n\n\n\n\nEnvswitcher\n\u00b6\n\n\nI created \nenvswitch\n because I did not find anything like Firefox ProxySwitcher to switch the environment variables used by \ncurl\n, \ngit\n, \nconda\n, \npip\n and many other tools.\n\n\nThis is a general-purpose environment switcher, so you have to create an initial configuration file for your needs. You can use the following \nconfiguration file\n with two environments (no proxy / proxy) to get started.",
            "title": "Switching tools"
        },
        {
            "location": "/switching/#switching-tools",
            "text": "If you find yourself switching frequently between proxy / non-proxy configurations, you might wish to use these tools.",
            "title": "Switching tools"
        },
        {
            "location": "/switching/#firefox-proxyswitcher",
            "text": "The excellent  Proxy Switcher  add-on will save you time! It supports automatic configuration scripts ( .pac ) as well as manual configuration too.",
            "title": "Firefox ProxySwitcher"
        },
        {
            "location": "/switching/#envswitcher",
            "text": "I created  envswitch  because I did not find anything like Firefox ProxySwitcher to switch the environment variables used by  curl ,  git ,  conda ,  pip  and many other tools.  This is a general-purpose environment switcher, so you have to create an initial configuration file for your needs. You can use the following  configuration file  with two environments (no proxy / proxy) to get started.",
            "title": "Envswitcher"
        }
    ]
}